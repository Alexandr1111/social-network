{"version":3,"sources":["redux/dialogs-reducer.js","assets/images/user.png","components/Users/Users.module.css","components/Navbar/Navbar.module.css","api/api.js","utils/object-helpers.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","logo.svg","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","App.js","index.js","assets/images/preloader.gif","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.module.css","components/common/Paginator/Paginator.module.css","components/common/FormsControls/FormsControls.jsx","utils/validators/validators.js","components/Header/Header.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","messages","id","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","newMessage","module","exports","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingInProgress","usersReducer","followed","count","filter","SET_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","authReducer","SET_INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","auth","app","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Navbar","className","c","nav","item","to","activeClassName","active","Music","News","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","page","selectedPage","User","user","src","photos","small","userPhoto","alt","disabled","some","Users","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","pageNumber","props","this","Preloader","Component","connect","totalCount","Header","s","header","logo","loginBlock","value","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","formSummaryError","length","stopSubmit","_error","ProfileContainer","lazy","DialogsContainer","App","initializeApp","fallback","path","render","exact","LoginPage","React","withRouter","promise1","Promise","all","ReactDOM","document","getElementById","preloader","FormControl","input","meta","children","hasError","touched","formControl","Textarea","restProps","child","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likeCount","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","file","newPost","postId"],"mappings":"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","file":"static/js/main.66f32d12.chunk.js","sourcesContent":["const SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    messages: [{id: 1, message: \"Hi how are you?\"}, {id: 2, message: \"What did you do yesterday?\"}, {id: 3, message: \"Yes, sure\"}],\r\n    dialogs: [{id: 1, name: \"Dima\"}, {id: 2, name: \"Sveta\"}, {id: 3, name: \"Vika\"}, {id: 4, name: \"Masha\"}]\r\n}\r\n\r\nconst dialogsReducer = ( state = initialState, action ) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            const newMessage = { id: 4, message: action.newMessageBody };\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessage],\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = newMessageBody => {\r\n    return {\r\n        type: SEND_MESSAGE, newMessageBody\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;\r\n","export default __webpack_public_path__ + \"static/media/user.43e64566.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__3Tunq\",\"selectedPage\":\"Users_selectedPage__1dWid\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__25szF\",\"item\":\"Navbar_item__DmRP0\",\"active\":\"Navbar_active__1Vami\"};","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"97f1d028-7518-43ef-85bd-dd2bcb1ec8e1\"\r\n    }\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance\r\n            .get(`users/?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data);\r\n    },\r\n    follow(userId) {\r\n        return instance\r\n            .post(`follow/${userId}`, { });\r\n    },\r\n    unfollow(userId) {\r\n        return instance\r\n            .delete(`follow/${userId}`);\r\n    },\r\n    getProfile(userId) {\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance\r\n            .get(`profile/${userId}`);\r\n    },\r\n    getStatus(userId) {\r\n        return instance\r\n            .get(`profile/status/${userId}`);\r\n    },\r\n    updateStatus(status) {\r\n        return instance\r\n            .put('profile/status/', { status: status });\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image ', photoFile);\r\n        return instance\r\n            .put('profile/photo/', formData, {\r\n                headers: {\r\n                    \"Content-Type\": \"multipart/form-data\"\r\n                }\r\n            })\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance\r\n            .get('auth/me')\r\n            .then(response => response.data);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance\r\n            .post('auth/login', { email, password, rememberMe });\r\n    },\r\n    logout() {\r\n        return instance\r\n            .delete('auth/login');\r\n    }\r\n};\r\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {   // нужно сделать копию ТОЛЬКО того объекта(юзера) который меняем\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps};\r\n        }\r\n        return u;\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET_USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []  // когда идет подписка, сюда добавлять id пользователя\r\n}\r\n\r\nconst usersReducer = ( state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            };\r\n        case SET_USERS:\r\n            return {\r\n                ...state,\r\n                users: action.users    // ...спред action.users, т.к. action.users-массив, склеиваем 2 массива в 1\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            };\r\n        case SET_TOTAL_USERS_COUNT:\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.count\r\n            };\r\n        case TOGGLE_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followSuccess = userId => {\r\n    return {\r\n        type: FOLLOW, userId\r\n    }\r\n}\r\n\r\nexport const unfollowSuccess = userId => {\r\n    return {\r\n        type: UNFOLLOW, userId\r\n    }\r\n}\r\n\r\nexport const setUsers = users => {\r\n    return {\r\n        type: SET_USERS, users\r\n    }\r\n}\r\n\r\nexport const setCurrentPage = currentPage => {\r\n    return {\r\n        type: SET_CURRENT_PAGE, currentPage\r\n    }\r\n}\r\n\r\nexport const setTotalUsersCount = totalUsersCount => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT, count: totalUsersCount\r\n    }\r\n}\r\n\r\nexport const toggleIsFetching = isFetching => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING, isFetching\r\n    }\r\n}\r\n\r\nexport const toggleFollowingInProgress = (isFetching, userId) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId\r\n    }\r\n}\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n\r\n    const response = await usersAPI.getUsers(page, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(response.items));\r\n    dispatch(setTotalUsersCount(response.totalCount));\r\n}\r\n\r\nexport const follow = userId => async (dispatch) => {\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n\r\n    const response = await usersAPI.follow(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(followSuccess(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport const unfollow = userId => async (dispatch) => {\r\n    dispatch(toggleFollowingInProgress(true, userId));\r\n\r\n    const response = await usersAPI.unfollow(userId);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(unfollowSuccess(userId));\r\n    }\r\n    dispatch(toggleFollowingInProgress(false, userId));\r\n}\r\n\r\nexport default usersReducer;\r\n","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";    // это actionCreator\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nconst initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = ( userId, email, login, isAuth ) => ({type: SET_USER_DATA, payload: { userId, email, login, isAuth }});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    const response = await authAPI.me();\r\n    if (response.resultCode === 0) {\r\n        const { id, email, login } = response.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = ( email, password, rememberMe ) => async (dispatch) => {\r\n    const response = await authAPI.login(email, password, rememberMe);\r\n    if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData());\r\n        }\r\n    else {\r\n        const message = response.data.messages.length ? response.data.messages[0] : 'Some error';\r\n        dispatch(stopSubmit('login', { _error: message }));  // 1)название формы, 2)проблемные поля и текст ошибки(можно по имени Field)\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    const response = await authAPI.logout();\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import {getAuthUserData} from \"./auth-reducer\";    // это actionCreator\r\n\r\nconst SET_INITIALIZED_SUCCESS = 'app/SET-INITIALIZED-SUCCESS';\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: SET_INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n        const promise1 = dispatch(getAuthUserData());\r\n        //dispatch(something)\r\n        Promise.all([promise1])\r\n            .then(() => {\r\n                dispatch(initializedSuccess());\r\n            })\r\n\r\n}\r\n\r\nexport default appReducer;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport appReducer from \"./app-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";  // своё название любое\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport authReducer from \"./auth-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer   // Обязательно должно быть именно form\r\n})\r\n\r\n// redux devtools installed\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport c from \"./Navbar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={c.nav}>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/profile\" activeClassName={c.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={c.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/users\" activeClassName={c.active}>Users</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/news\" activeClassName={c.active}>News</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/music\" activeClassName={c.active}>Music</NavLink>\r\n            </div>\r\n            <div className={c.item}>\r\n                <NavLink to=\"/settings\" activeClassName={c.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n// import c from \"./Music.module.css\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>music</div>\r\n    )\r\n}\r\n\r\nexport default Music;\r\n","import React from \"react\";\r\n// import c from \"./News.module.css\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>news</div>\r\n    )\r\n}\r\n\r\nexport default News;\r\n","import React, {useState} from \"react\";\r\nimport c from \"./Paginator.module.css\";\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize);   // При totalUsersCount 19 и pageSize 5 не теряются последние пользователи\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize);\r\n    const [portionNumber, setPortionNumber] = useState(1);// в локальном, т.к. это чисто ui-момент\r\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={c.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={() => setPortionNumber(portionNumber - 1)}>\r\n                PREV\r\n            </button>}\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => <span className={`${c.page} ${currentPage === p && c.selectedPage}`} onClick={() => onPageChanged(p)}>{p}</span>)}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={() => setPortionNumber(portionNumber + 1)}>\r\n                NEXT\r\n            </button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;\r\n","import c from \"./Users.module.css\";\r\nimport userPhoto from \"../../assets/images/user.png\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst User = ({user, followingInProgress, follow, unfollow}) => {\r\n    return (\r\n        <div>\r\n            <span>\r\n                <div>\r\n                    <NavLink to={`/profile/${user.id}`}>\r\n                        <img src={user.photos.small ? user.photos.small : userPhoto} alt=\"\"\r\n                             className={c.userPhoto}/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {user.followed\r\n                        ? <button disabled={followingInProgress.some(id => id == user.id)}\r\n                                  onClick={() => unfollow(user.id)}>\r\n                            Unfollow\r\n                        </button>\r\n                        : <button disabled={followingInProgress.some(id => id == user.id)}\r\n                                  onClick={() => follow(user.id)}>\r\n                            Follow\r\n                        </button>\r\n                    }\r\n                </div>\r\n            </span>\r\n            <span>\r\n                <span>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </span>\r\n                <span>\r\n                    <div>{\"user.location.country\"}</div>\r\n                    <div>{\"user.location.city\"}</div>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nconst Users = ({totalUsersCount, pageSize, currentPage, onPageChanged, users, follow, unfollow, followingInProgress}) => {\r\n    return (\r\n        <div>\r\n            <Paginator\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n            />\r\n            {users.map(u => <User user={u} key={u.id} followingInProgress={followingInProgress} follow={follow}\r\n                                  unfollow={unfollow}/>)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;\r\n","// Простые селекторы оставляем, сложные прогоняем через reselect\r\nimport {createSelector} from \"reselect\";\r\n\r\nexport const getUsersSelector = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector,\r\n    (users) => {    /* колбеку, чтобы сделать логику выборки, нужно получить из чего эта выборка будет происходить\r\n    но как createSelector поймёт каких именно пользователей засунуть. прежде чем перезапускаать этот колбек reselect посмотрит не изменились ли\r\n    зависимости и перезапустит её только если вернётся новый результат */\r\n    return users.filter(u => true);\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n\r\n\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n    setCurrentPage,\r\n    requestUsers,\r\n    follow,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n    getUsers,\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = pageNumber => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            users,\r\n            totalUsersCount,\r\n            pageSize,\r\n            currentPage,\r\n            isFetching,\r\n            followingInProgress,\r\n            follow,\r\n            unfollow\r\n        } = this.props;\r\n\r\n        return (\r\n            <>\r\n                {isFetching ? <Preloader /> : null}\r\n\r\n                <Users\r\n                    totalUsersCount={totalUsersCount}\r\n                    pageSize={pageSize}\r\n                    currentPage={currentPage}\r\n                    users={users}\r\n                    onPageChanged={this.onPageChanged}\r\n                    isFetching={isFetching}\r\n                    followingInProgress={followingInProgress}\r\n                    follow={follow}\r\n                    unfollow={unfollow}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n// const mapStateToProps = state => {  // Здесь сидит весь стейт приложения\r\n//     return {\r\n//         users: state.usersPage.users,\r\n//         pageSize: state.usersPage.pageSize,\r\n//         totalUsersCount: state.usersPage.totalUsersCount,\r\n//         currentPage: state.usersPage.currentPage,\r\n//         isFetching: state.usersPage.isFetching,\r\n//         followingInProgress: state.usersPage.followingInProgress\r\n//     }\r\n// }\r\n\r\nconst mapStateToProps = state => {  // Здесь сидит весь стейт приложения\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\n// const mapDispatchToProps = dispatch => {\r\n//     return {\r\n//         follow: userId => {   //  колбек, т.к. презентационная компонента вызовет только по необходимости\r\n//             dispatch(followAC(userId))  // диспатчим результат работы actionCreator\r\n//         },\r\n//         unfollow: userId => {\r\n//             dispatch(unFollowAC(userId))\r\n//         },\r\n//         setUsers: users => {\r\n//             dispatch(setUsersAC(users))\r\n//         },\r\n//         setCurrentPage: pageNumber => {\r\n//             dispatch(setCurrentPageAC(pageNumber))\r\n//         },\r\n//         setTotalUsersCount: totalCount => {\r\n//             dispatch(setUsersTotalCountAC(totalCount))\r\n//         },\r\n//         toggleIsFetching: IsFetching => {\r\n//             dispatch(toggleIsFetchingAC(IsFetching))\r\n//         },\r\n//     }\r\n// }\r\n\r\n// follow: follow\r\n// в пропсы придёт не сам action creator, connect создаст колбэк, который внутри задиспатчит return action creator\r\n// export default connect(mapStateToProps, {\r\n//     setCurrentPage,\r\n//     getUsers,\r\n//     follow,\r\n//     unfollow\r\n// })(UsersContainer);\r\n\r\nexport default compose(\r\n    // WithAuthRedirect, теперь можно зайти на пользователей не авторизованному\r\n    connect(mapStateToProps, {\r\n    setCurrentPage,\r\n    getUsers: requestUsers,\r\n    follow,\r\n    unfollow\r\n})\r\n)(UsersContainer);\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport logo from \"../../logo.svg\";\r\nimport s from \"./Header.module.css\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src={logo} alt=\"logo\" />\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>\r\n                        {props.login}\r\n                        <input type=\"button\" onClick={props.logout} value=\"Log out\" />\r\n                      </div>\r\n                    : <NavLink to={'/login'}>\r\n                        Login\r\n                      </NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../redux/auth-reducer\";\r\n\r\nclass HeaderContainer extends Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect( mapStateToProps, { logout } )(HeaderContainer);\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Input } from \"../common/FormsControls/FormsControls\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport s from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>    {/* redux-form событие с e.preventDefault() чтобы страница не перезагружалась */}\r\n            <div>\r\n                <Field name='email' placeholder='Email' component={Input} validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field name='password' placeholder='Password' component={Input} validate={[required]} />\r\n            </div>\r\n            <div>\r\n                <Field name='rememberMe' component='input' type='checkbox' /> remember me\r\n            </div>\r\n            {error &&\r\n            <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = ({login, isAuth}) => {\r\n\r\n    const onSubmit = formData => {\r\n        login(formData.email, formData.password, formData.rememberMe);\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to={'/profile'} />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Логин</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import React, {lazy, Suspense} from \"react\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport Music from \"./components/Music/Music\";\r\nimport News from \"./components/News/News\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport LoginPage from \"./components/Login/Login\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"./components/common/Preloader/Preloader\";\r\n\r\nimport \"./App.css\";\r\n\r\n// в bundle не попадёт, а загрузится по мере необходимости\r\nconst ProfileContainer = lazy( () => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = lazy( () => import('./components/Dialogs/DialogsContainer'));\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if(!this.props.initialized) {\r\n            return <Preloader />\r\n        }\r\n\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer />\r\n                <Navbar />\r\n                <div className='app-wrapper-content'>\r\n                    <Suspense fallback={<Preloader />}>\r\n                        {/*теперь /profile без парамаетра не открывается, указываем что он не обязателен*/}\r\n                        <Route path='/profile/:userId?' render={() => <ProfileContainer />}/>\r\n                        <Route exact path='/dialogs' render={() => <DialogsContainer />}/>\r\n                    </Suspense>\r\n                    <Route path='/users' render={() => <UsersContainer />}/>\r\n                    <Route path='/news' component={News}/>\r\n                    <Route path='/music' component={Music}/>\r\n                    <Route path='/login' component={LoginPage}/>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        initialized: state.app.initialized\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, { initializeApp })\r\n)(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport store from './redux/redux-store';\r\nimport App from \"./App\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nReactDOM.render(\r\n    // Разные люди хотят видеть здесь иные значения, поэтому нельзя 'https://alexandr1111.github.io/social-network',\r\n    // не будет работать на localhost\r\n    // hashRouter - работает на якорях как раньше, решает проблему с 404 при обновлении страницы после\r\n    // https://alexandr1111.github.io/social-network/profile(или другие адреса) если не писать basename\r\n    //basename={process.env.PUBLIC_URL}\r\n    <Router>\r\n        <Provider store={store}>\r\n            <App />\r\n        </Provider>\r\n    </Router>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// с введением connect подписка не нужна, он сам субскрайбится\r\n// store.subscribe(() => { // Когда стейт изменится, стор вызовет нашу стрелочную функцию, чтобы запросит заново стейт\r\n//     rerenderEntireTree();\r\n// })\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader.30e900c6.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assets/images/preloader.gif\";\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img src={preloader} alt=\"preloader\" />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__E9CiO\",\"error\":\"FormsControls_error__2cgCt\",\"formSummaryError\":\"FormsControls_formSummaryError__gtRpS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3lYu0\",\"page\":\"Paginator_page__3bLuB\",\"selectedPage\":\"Paginator_selectedPage__LaTfF\"};","import React from 'react';\r\nimport s from './FormsControls.module.css';\r\n\r\nconst FormControl = ({input, meta, children, ...props}) => {\r\n\r\n    const hasError = meta.error && meta.touched;\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${hasError ? s.error : \"\"}`}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const { input, meta, child, restProps } = props;\r\n\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n\r\n    const { input, meta, child, restProps } = props;\r\n\r\n    return (\r\n        <FormControl {...props}>\r\n            <input {...input} {...restProps} />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\n// export const Textarea = ({input, meta, ...props}) => {\r\n//\r\n//     const hasError = meta.error && meta.touched;\r\n//\r\n//     return (\r\n//         <div className={`${s.formControl} ${hasError ? s.error : \"\"}`}>\r\n//             <div>\r\n//                 <textarea {...input} {...props} />\r\n//             </div>\r\n//             {hasError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n// export const Input = ({input, meta, ...props}) => {\r\n//\r\n//     const hasError = meta.error && meta.touched;\r\n//\r\n//     return (\r\n//         <div className={`${s.formControl} ${hasError ? s.error : \"\"}`}>\r\n//             <div>\r\n//                 <input {...input} {...props} />\r\n//             </div>\r\n//             {hasError && <span>{meta.error}</span>}\r\n//         </div>\r\n//     )\r\n// }\r\n","export const required = value => {\r\n    if (value) {\r\n        return undefined;\r\n    }\r\n\r\n    return \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = maxLength => {\r\n    return value => {\r\n        if (value.length > maxLength) {\r\n            return `Max length is ${maxLength} symbols`;\r\n        }\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1MZ7r\",\"loginBlock\":\"Header_loginBlock__3BN1t\"};","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD_POST';\r\nconst SET_USER_PROFILE = 'profile/SET_USER_PROFILE';\r\nconst SET_STATUS = 'profile/SET_STATUS';\r\nconst DELETE_POST = 'profile/DELETE_POST';\r\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [{id: 1, message: \"Хай, это мой первый пост!\", likeCount: 4}, {id: 2, message: \"Новая Зеландия, жди меня!♥\", likeCount: 18}],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = ( state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost = { id: 5, message: action.newPostText, likeCount: 0 };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        case DELETE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(p => p.id !== action.postId)\r\n            }\r\n        case SAVE_PHOTO_SUCCESS:\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos}\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = newPostText => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = profile => ({ type: SET_USER_PROFILE, profile });\r\nexport const setStatus = status => ({ type: SET_STATUS, status });\r\nexport const deletePost = postId => ({ type: DELETE_POST, postId });\r\nexport const savePhotoSuccess = photos => ({ type: SAVE_PHOTO_SUCCESS, photos });\r\n\r\nexport const getUserProfile = userId => async (dispatch) => {\r\n    const response = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n}\r\n\r\nexport const getStatus = userId => async (dispatch) => {\r\n    const response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data));\r\n}\r\n\r\nexport const updateStatus = status => async (dispatch) => {\r\n    const response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n}\r\n\r\nexport const savePhoto = file => async (dispatch) => {\r\n    const response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n}\r\n\r\nexport default profileReducer;\r\n"],"sourceRoot":""}