(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{13:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__3W1mq",dialogsItems:"Dialogs_dialogsItems__3nTdQ",dialog:"Dialogs_dialog__T8HSM",active:"Dialogs_active__ijEmk",messages:"Dialogs_messages__1akpd",message:"Dialogs_message__3dNHj"}},30:function(e,t,s){e.exports={userPhoto:"Users_userPhoto__r-Zsh",selectedPage:"Users_selectedPage__Ag5OL"}},31:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__3W8Xp",posts:"MyPosts_posts__3bcBe"}},42:function(e,t,s){e.exports={header:"Header_header__2v4Ub"}},44:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3Fzxi"}},45:function(e,t,s){e.exports={item:"Post_item__1tGbM"}},51:function(e,t,s){},57:function(e,t,s){},58:function(e,t,s){},7:function(e,t,s){e.exports={nav:"Navbar_nav__2t6jB",item:"Navbar_item__1WmbN",active:"Navbar_active__3R5Tk"}},77:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s(18),c=s.n(a),r=s(15),i=s(22),o=s(2),l="ADD_POST",u="UPDATE_NEW_POST_TEXT",j="SET_USER_PROFILE",d={posts:[{id:1,message:"\u0425\u0430\u0439, \u044d\u0442\u043e \u043c\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0441\u0442!",likeCount:4},{id:2,message:"\u041d\u043e\u0432\u0430\u044f \u0417\u0435\u043b\u0430\u043d\u0434\u0438\u044f, \u0436\u0434\u0438 \u043c\u0435\u043d\u044f!\u2665",likeCount:18}],newPostText:"it-kamasutra",profile:null},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:var s={id:5,message:e.newPostText,likeCount:0};return Object(o.a)(Object(o.a)({},e),{},{newPostText:"",posts:[].concat(Object(i.a)(e.posts),[s])});case u:return Object(o.a)(Object(o.a)({},e),{},{newPostText:t.newText});case j:return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});default:return e}},b="SEND-MESSAGE",g="UPDATE-NEW-MESSAGE-BODY",O={messages:[{id:1,message:"Hi how are you?"},{id:2,message:"What did you do yesterday?"},{id:3,message:"Yes, sure"}],dialogs:[{id:1,name:"Dima"},{id:2,name:"Sveta"},{id:3,name:"Vika"},{id:4,name:"Masha"}],newMessageBody:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var s={id:4,message:e.newMessageBody};return Object(o.a)(Object(o.a)({},e),{},{newMessageBody:"",messages:[].concat(Object(i.a)(e.messages),[s])});case g:return Object(o.a)(Object(o.a)({},e),{},{newMessageBody:t.body});default:return e}},f="FOLLOW",m="UNFOLLOW",x="SET_USERS",v="SET_CURRENT_PAGE",_="SET_TOTAL_USERS_COUNT",P="TOGGLE_IS_FETCHING",w={users:[],pageSize:5,totalUsersCount:0,currentPage:2,isFetching:!1},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case m:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case x:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case v:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case _:return Object(o.a)(Object(o.a)({},e),{},{totalUsersCount:t.count});case P:return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});default:return e}},y=Object(r.b)({profilePage:p,dialogsPage:h,usersPage:N}),C=Object(r.c)(y);window.store=C;var k=C,T=(s(51),s.p+"static/media/logo.6ce24c58.svg"),S=s(42),U=s.n(S),E=s(0),M=function(){return Object(E.jsx)("header",{className:U.a.header,children:Object(E.jsx)("img",{src:T,alt:"logo"})})},F=s(7),B=s.n(F),I=s(5),D=function(){return Object(E.jsxs)("nav",{className:B.a.nav,children:[Object(E.jsx)("div",{className:B.a.item,children:Object(E.jsx)(I.b,{to:"/profile",activeClassName:B.a.active,children:"Profile"})}),Object(E.jsx)("div",{className:B.a.item,children:Object(E.jsx)(I.b,{to:"/dialogs",activeClassName:B.a.active,children:"Messages"})}),Object(E.jsx)("div",{className:B.a.item,children:Object(E.jsx)(I.b,{to:"/users",activeClassName:B.a.active,children:"Users"})}),Object(E.jsx)("div",{className:B.a.item,children:Object(E.jsx)(I.b,{to:"/news",activeClassName:B.a.active,children:"News"})}),Object(E.jsx)("div",{className:B.a.item,children:Object(E.jsx)(I.b,{to:"/music",activeClassName:B.a.active,children:"Music"})}),Object(E.jsx)("div",{className:B.a.item,children:Object(E.jsx)(I.b,{to:"/settings",activeClassName:B.a.active,children:"Settings"})})]})},A=s(4),z=(s(57),function(){return Object(E.jsx)("div",{children:"music"})}),R=(s(58),function(){return Object(E.jsx)("div",{children:"news"})}),L=s(13),W=s.n(L),G=function(e){var t=e.name,s=e.id;return Object(E.jsxs)("div",{className:W.a.dialog,children:[Object(E.jsx)("img",{src:"https://topmsg.ru/wp-content/uploads/whatsapp-avatar-1.png",alt:""}),Object(E.jsx)(I.b,{to:"/dialogs/".concat(s),children:t})]})},H=function(e){var t=e.message;return Object(E.jsx)("div",{className:W.a.message,children:t})},J=function(e){var t=e.dialogsPage,s=e.updateNewMessageBody,a=e.sendMessage,c=Object(n.createRef)();return Object(E.jsxs)("div",{className:W.a.dialogs,children:[Object(E.jsx)("div",{className:W.a.dialogsItems,children:t.dialogs.map((function(e){return Object(E.jsx)(G,{name:e.name,id:e.id},e.id)}))}),Object(E.jsx)("div",{className:W.a.messages,children:t.messages.map((function(e){return Object(E.jsx)(H,{message:e.message},e.id)}))}),Object(E.jsx)("div",{children:Object(E.jsx)("textarea",{ref:c,onChange:function(){s(c.current.value)},value:t.newMessageBody})}),Object(E.jsx)("div",{children:Object(E.jsx)("button",{onClick:function(){a()},children:"Add message"})})]})},X=s(12),Y=Object(X.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{updateNewMessageBody:function(t){e(function(e){return{type:g,body:e}}(t))},sendMessage:function(){e({type:b})}}}))(J),q=s(20),Q=s(21),V=s(24),Z=s(23),K=s(17),$=s(30),ee=s.n($),te=s.p+"static/media/user.43e64566.png",se=function(e){for(var t=e.totalUsersCount,s=e.pageSize,n=e.currentPage,a=e.onPageChanged,c=e.users,r=e.follow,i=e.unfollow,o=Math.ceil(t/s),l=[],u=1;u<=o;u++)l.push(u);return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:l.map((function(e){return Object(E.jsx)("span",{className:n===e&&ee.a.selectedPage,onClick:function(){return a(e)},children:e})}))}),c.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsxs)("span",{children:[Object(E.jsx)("div",{children:Object(E.jsx)(I.b,{to:"/profile/".concat(e.id),children:Object(E.jsx)("img",{src:e.photos.small?e.photos.small:te,alt:"",className:ee.a.userPhoto})})}),Object(E.jsx)("div",{children:e.followed?Object(E.jsx)("button",{onClick:function(){return i(e.id)},children:"Unfollow"}):Object(E.jsx)("button",{onClick:function(){return r(e.id)},children:"Follow"})})]}),Object(E.jsxs)("span",{children:[Object(E.jsxs)("span",{children:[Object(E.jsx)("div",{children:e.name}),Object(E.jsx)("div",{children:e.status})]}),Object(E.jsxs)("span",{children:[Object(E.jsx)("div",{children:"u.location.country"}),Object(E.jsx)("div",{children:"u.location.city"})]})]})]})}))]})},ne=s.p+"static/media/preloader.30e900c6.gif",ae=function(e){return Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:ne,alt:"preloader"})})},ce=function(e){Object(V.a)(s,e);var t=Object(Z.a)(s);function s(){var e;Object(q.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.toggleIsFetching(!0),e.props.setCurrentPage(t),K.get("https://social-network.samuraijs.com/api/1.0/users?page=".concat(t,"&count=").concat(e.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items)}))},e}return Object(Q.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.toggleIsFetching(!0),K.get("https://social-network.samuraijs.com/api/1.0/users?pages=".concat(this.props.currentPage,"&count=").concat(this.props.pageSize)).then((function(t){e.props.toggleIsFetching(!1),e.props.setUsers(t.data.items),e.props.setTotalUsersCount(t.data.totalCount)}))}},{key:"render",value:function(){var e=this.props,t=e.users,s=e.follow,n=e.unfollow,a=e.totalUsersCount,c=e.pageSize,r=e.currentPage,i=e.isFetching;return Object(E.jsxs)(E.Fragment,{children:[i?Object(E.jsx)(ae,{}):null,Object(E.jsx)(se,{totalUsersCount:a,pageSize:c,currentPage:r,users:t,onPageChanged:this.onPageChanged,follow:s,unfollow:n,isFetching:i})]})}}]),s}(n.Component),re=Object(X.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching}}),{follow:function(e){return{type:f,userId:e}},unfollow:function(e){return{type:m,userId:e}},setUsers:function(e){return{type:x,users:e}},setCurrentPage:function(e){return{type:v,currentPage:e}},setTotalUsersCount:function(e){return{type:_,count:e}},toggleIsFetching:function(e){return{type:P,isFetching:e}}})(ce),ie=s(44),oe=s.n(ie),le=function(e){var t=e.profile;return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:Object(E.jsx)("img",{src:"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png",alt:""})}),Object(E.jsxs)("div",{className:oe.a.descriptionBlock,children:[Object(E.jsx)("img",{src:t.photos.large,alt:""}),"ava + description"]})]})},ue=s(31),je=s.n(ue),de=s(45),pe=s.n(de),be=function(e){var t=e.message,s=e.likeCount;return Object(E.jsxs)("div",{className:pe.a.item,children:[Object(E.jsx)("img",{src:"https://i.pinimg.com/236x/c2/af/09/c2af0941a9eace5f0ba3dc63284d3860--mr-bean-funny-color-blue.jpg",alt:""}),t,Object(E.jsx)("div",{children:Object(E.jsxs)("span",{children:[s,"\u2665"]})})]})},ge=function(e){var t=e.posts,s=e.newPostText,a=e.addPost,c=e.updateNewPostText,r=Object(n.createRef)();return Object(E.jsxs)("div",{className:je.a.postsBlock,children:[Object(E.jsx)("h3",{children:"My posts"}),Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:Object(E.jsx)("textarea",{ref:r,onChange:function(){var e=r.current.value;c(e)},value:s})}),Object(E.jsx)("div",{children:Object(E.jsx)("button",{onClick:function(){a()},children:"Add post"})})]}),Object(E.jsx)("div",{className:je.a.posts,children:t.map((function(e){return Object(E.jsx)(be,{message:e.message,likeCount:e.likeCount})}))})]})},Oe=Object(X.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(){e({type:l})},updateNewPostText:function(t){var s=function(e){return{type:u,newText:e}}(t);e(s)}}}))(ge),he=function(e){var t=e.profile;return t?Object(E.jsxs)("div",{children:[Object(E.jsx)(le,{profile:t}),Object(E.jsx)(Oe,{})]}):Object(E.jsx)(ae,{})},fe=function(e){Object(V.a)(s,e);var t=Object(Z.a)(s);function s(){return Object(q.a)(this,s),t.apply(this,arguments)}return Object(Q.a)(s,[{key:"componentDidMount",value:function(){var e=this;K.get("https://social-network.samuraijs.com/api/1.0/profile/3").then((function(t){e.props.setUserProfile(t.data)}))}},{key:"render",value:function(){var e=this.props.profile;return Object(E.jsx)(he,Object(o.a)(Object(o.a)({},this.props),{},{profile:e}))}}]),s}(n.Component),me=Object(X.b)((function(e){return{profile:e.profilePage.profile}}),{setUserProfile:function(e){return{type:j,profile:e}}})(fe),xe=function(){return Object(E.jsxs)("div",{className:"app-wrapper",children:[Object(E.jsx)(M,{}),Object(E.jsx)(D,{}),Object(E.jsxs)("div",{className:"app-wrapper-content",children:[Object(E.jsx)(A.a,{exact:!0,path:"/dialogs",render:function(){return Object(E.jsx)(Y,{})}}),Object(E.jsx)(A.a,{path:"/profile",render:function(){return Object(E.jsx)(me,{})}}),Object(E.jsx)(A.a,{path:"/users",render:function(){return Object(E.jsx)(re,{})}}),Object(E.jsx)(A.a,{path:"/news",component:R}),Object(E.jsx)(A.a,{path:"/music",component:z})]})]})};c.a.render(Object(E.jsx)(I.a,{children:Object(E.jsx)(X.a,{store:k,children:Object(E.jsx)(xe,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.2c56e4af.chunk.js.map