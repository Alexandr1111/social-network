(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{302:function(e,t,s){"use strict";function n(e,t){if(null==e)return{};var s,n,c=function(e,t){if(null==e)return{};var s,n,c={},o=Object.keys(e);for(n=0;n<o.length;n++)s=o[n],t.indexOf(s)>=0||(c[s]=e[s]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)s=o[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(c[s]=e[s])}return c}s.d(t,"a",(function(){return n}))},303:function(e,t,s){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2gyzB",mainPhoto:"ProfileInfo_mainPhoto__1nLwb",contact:"ProfileInfo_contact__2JW-A",contactValue:"ProfileInfo_contactValue__7_F_p",btn:"ProfileInfo_btn__35r8e"}},304:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__2BACy",posts:"MyPosts_posts__2x3M3",btn:"MyPosts_btn__16twG"}},305:function(e,t,s){e.exports={item:"Post_item__1nQ7J"}},306:function(e,t,s){"use strict";s.r(t);var n=s(3),c=s(302),o=s(39),a=s(40),r=s(42),i=s(41),l=s(0),j=s(17),u=s(101),b=s(303),d=s.n(b),p=s(122),f=s(1),h=function(e){var t=Object(l.useState)(!1),s=Object(u.a)(t,2),n=s[0],c=s[1],o=Object(l.useState)(e.status),a=Object(u.a)(o,2),r=a[0],i=a[1];Object(l.useEffect)((function(){i(e.status)}),[e.status]);return Object(f.jsx)(f.Fragment,{children:n?Object(f.jsx)("span",{children:Object(f.jsx)("input",{value:r,onChange:function(e){i(e.target.value)},onBlur:function(){c(!1),e.updateStatus(r)},autoFocus:!0})}):Object(f.jsx)("span",{children:Object(f.jsx)("span",{onDoubleClick:function(){c(!0)},children:r||"-----"})})})},O=s(133),x=s(134),m=s(69),v=s(51),g=s.n(v),P=Object(x.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,n=e.error;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Full name"}),": ",Object(f.jsx)(O.a,{name:"fullName",placeholder:"Full name",component:m.a,validate:[]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job"}),": ",Object(f.jsx)(O.a,{name:"lookingForAJob",component:"input",type:"checkbox",validate:[]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),": ",Object(f.jsx)(O.a,{name:"lookingForAJobDescription",placeholder:"My professional skills",component:m.b,validate:[]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),": ",Object(f.jsx)(O.a,{name:"aboutMe",placeholder:"About me",component:m.b,validate:[]})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),": ",Object.keys(s.contacts).map((function(e){return Object(f.jsxs)("div",{className:d.a.contact,children:[Object(f.jsx)("b",{children:e}),": ",Object(f.jsx)(O.a,{name:"contacts."+e,placeholder:e,component:m.a,validate:[]})]},e)}))]}),n&&Object(f.jsx)("div",{className:g.a.formSummaryError,children:n}),Object(f.jsx)("button",{className:d.a.btn,children:"save"})]})})),k=function(e){var t=e.profile,s=e.isOwner,n=e.activateEditMode;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"FullName"}),": ",t.fullName&&t.fullName]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Looking for a job"}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"My professional skills"}),": ",t.lookingForAJobDescription&&t.lookingForAJobDescription]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"About me"}),": ",t.aboutMe&&t.aboutMe]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(f.jsx)(y,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),s&&Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:d.a.btn,onClick:n,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},y=function(e){var t=e.contactTitle,s=e.contactValue;return Object(f.jsxs)("div",{className:d.a.contact,children:[Object(f.jsx)("b",{children:t}),": ",Object(f.jsx)("a",{className:d.a.contactValue,href:s,target:"_blank",rel:"noreferrer",children:Object(f.jsx)("b",{children:s})})]})},_=function(e){var t=e.profile,s=e.status,n=e.updateStatus,c=e.isOwner,o=e.savePhoto,a=e.saveProfile,r=Object(l.useState)(!1),i=Object(u.a)(r,2),j=i[0],b=i[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{children:Object(f.jsx)("img",{src:"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png",alt:""})}),Object(f.jsxs)("div",{className:d.a.descriptionBlock,children:[Object(f.jsx)("img",{src:t.photos.large||p.a,alt:"",className:d.a.mainPhoto}),c&&Object(f.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&o(e.target.files[0])}}),Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("b",{children:"Status"}),": ",Object(f.jsx)(h,{status:s,updateStatus:n})]}),j?Object(f.jsx)(P,{initialValues:t,profile:t,onSubmit:function(e){a(e).then((function(){return b(!1)}))}}):Object(f.jsx)(k,{profile:t,isOwner:c,activateEditMode:function(){return b(!0)}})]})]})]})},S=s(304),w=s.n(S),N=s(305),A=s.n(N),I=function(e){var t=e.message,s=e.likeCount;return Object(f.jsxs)("div",{className:A.a.item,children:[Object(f.jsx)("img",{src:"https://i.pinimg.com/236x/c2/af/09/c2af0941a9eace5f0ba3dc63284d3860--mr-bean-funny-color-blue.jpg",alt:""}),t,Object(f.jsx)("div",{children:Object(f.jsxs)("span",{children:[s,"\u2665"]})})]})},M=s(73),F=Object(M.a)(10),C=Object(x.a)({form:"addPost"})((function(e){var t=e.handleSubmit;return Object(f.jsxs)("form",{onSubmit:t,children:[Object(f.jsx)("div",{children:Object(f.jsx)(O.a,{name:"newPostText",component:m.b,validate:[M.b,F]})}),Object(f.jsx)("div",{children:Object(f.jsx)("button",{className:w.a.btn,type:"submit",children:"Add post"})})]})})),J=Object(l.memo)((function(e){var t=e.posts,s=e.addPost;return Object(f.jsxs)("div",{className:w.a.postsBlock,children:[Object(f.jsx)("h3",{children:"My posts"}),Object(f.jsx)("div",{children:Object(f.jsx)(C,{onSubmit:function(e){s(e.newPostText)}})}),Object(f.jsx)("div",{className:w.a.posts,children:t.map((function(e){return Object(f.jsx)(I,{message:e.message,likeCount:e.likeCount},e.id)}))})]})})),B=s(102),D=function(e){return e.profilePage.posts},T=function(e){return e.profilePage.newPostText},V=Object(j.b)((function(e){return{posts:D(e),newPostText:T(e)}}),{addPost:B.a.addPostActionCreator})(J),E=s(54),U=function(e){var t=e.profile,s=e.status,n=e.updateStatus,c=e.isOwner,o=e.savePhoto,a=e.saveProfile;return t?Object(f.jsxs)("div",{children:[Object(f.jsx)(_,{profile:t,isOwner:c,status:s,updateStatus:n,savePhoto:o,saveProfile:a}),Object(f.jsx)(V,{})]}):Object(f.jsx)(E.a,{})},z=s(12),L=s(11),G=["profile","status","updateStatus","savePhoto","saveProfile"],Q=function(e){Object(r.a)(s,e);var t=Object(i.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),e?(this.props.getUserProfile(e),this.props.getStatus(e)):console.error("ID should exists")}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,t=e.profile,s=e.status,o=e.updateStatus,a=e.savePhoto,r=e.saveProfile,i=Object(c.a)(e,G);return Object(f.jsx)(U,Object(n.a)({profile:t,status:s,updateStatus:o,isOwner:!this.props.match.params.userId,savePhoto:a,saveProfile:r},i))}}]),s}(l.Component);t.default=Object(L.d)(Object(j.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:B.d,getStatus:B.c,updateStatus:B.g,savePhoto:B.e,saveProfile:B.f}),z.f)(Q)}}]);
//# sourceMappingURL=3.569bc9b5.chunk.js.map