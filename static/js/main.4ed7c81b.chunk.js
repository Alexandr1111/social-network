(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{102:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return D})),n.d(t,"f",(function(){return S}));var r=n(75),a=n(136),c=n(10),s=n.n(c),i=n(16),o=n(47),u=n(3),l=n(37),f=n(8),j=function(e){return f.b.get("profile/".concat(e)).then((function(e){return e.data}))},d=function(e){return f.b.get("profile/status/".concat(e)).then((function(e){return e.data}))},p=function(e){return f.b.put("profile/status/",{status:e}).then((function(e){return e.data}))},b=function(e){var t=new FormData;return t.append("image ",e),f.b.put("profile/photo/",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},h=function(e){return f.b.put("profile/",e).then((function(e){return e.data}))},O="SN/PROFILE/ADD_POST",A="SN/PROFILE/SET_USER_PROFILE",x="SN/PROFILE/SET_STATUS",g="SN/PROFILE/DELETE_POST",v="SN/PROFILE/SAVE_PHOTO_SUCCESS",w={posts:[{id:1,message:"\u0425\u0430\u0439, \u044d\u0442\u043e \u043c\u043e\u0439 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0441\u0442!",likeCount:4},{id:2,message:"\u041d\u043e\u0432\u0430\u044f \u0417\u0435\u043b\u0430\u043d\u0434\u0438\u044f, \u0436\u0434\u0438 \u043c\u0435\u043d\u044f!\u2665",likeCount:18}],profile:null,status:"",newPostText:""},m={addPostActionCreator:function(e){return{type:O,newPostText:e}},setUserProfile:function(e){return{type:A,profile:e}},setStatus:function(e){return{type:x,status:e}},deletePost:function(e){return{type:g,postId:e}},savePhotoSuccess:function(e){return{type:v,photos:e}}},P=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(e);case 2:r=t.sent,n(m.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:r=t.sent,n(m.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e);case 2:t.sent.resultCode===f.a.Success&&n(m.setStatus(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b(e);case 2:(r=t.sent).resultCode===f.a.Success&&n(m.savePhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(i.a)(s.a.mark((function t(n,c){var i,o,u,j,d,p,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c().auth.userId,t.next=3,h(e);case 3:if((o=t.sent).resultCode!==f.a.Success){t.next=13;break}if(null==i){t.next=10;break}return t.next=8,n(P(i));case 8:t.next=11;break;case 10:throw new Error('userId can"t be null');case 11:t.next=17;break;case 13:u=o.messages,j=Object(a.a)(u);try{for(j.s();!(d=j.n()).done;)p=d.value,b=p.slice(0,-1).toLowerCase().split("(")[1].split("->")[1],n(Object(l.a)("edit-profile",{contacts:Object(r.a)({},b,p.toLowerCase().includes(b)&&p)}))}catch(s){j.e(s)}finally{j.f()}return t.abrupt("return",Promise.reject("reject"));case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n={id:5,message:t.newPostText,likeCount:0};return Object(u.a)(Object(u.a)({},e),{},{posts:[].concat(Object(o.a)(e.posts),[n]),newPostText:""});case A:return Object(u.a)(Object(u.a)({},e),{},{profile:t.profile});case x:return Object(u.a)(Object(u.a)({},e),{},{status:t.status});case g:return Object(u.a)(Object(u.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case v:return Object(u.a)(Object(u.a)({},e),{},{profile:Object(u.a)(Object(u.a)({},e.profile),{},{photos:t.photos})});default:return e}}},111:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(47),a=n(3),c="SN/DIALOGS/SEND-MESSAGE",s={messages:[{id:1,message:"Hi how are you?"},{id:2,message:"What did you do yesterday?"},{id:3,message:"Yes, sure"}],dialogs:[{id:1,name:"Dima"},{id:2,name:"Sveta"},{id:3,name:"Vika"},{id:4,name:"Masha"}]},i={sendMessage:function(e){return{type:c,newMessageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;if(t.type===c){var n={id:4,message:t.newMessageBody};return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[n])})}return e}},122:function(e,t,n){"use strict";t.a=n.p+"static/media/user.43e64566.png"},142:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__3Tunq",selectedPage:"Users_selectedPage__1dWid"}},20:function(e,t,n){e.exports={nav:"Navbar_nav__25szF",item:"Navbar_item__DmRP0",active:"Navbar_active__1Vami"}},299:function(e,t,n){},300:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(71),s=n.n(c),i=n(11),o=n(102),u=n(111),l=n(10),f=n.n(l),j=n(16),d=n(47),p=n(3),b=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(p.a)(Object(p.a)({},e),r):e}))},h=n(8),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.b.get("users/",{params:{page:e,count:t,term:n,friend:null===r?"":r}}).then((function(e){return e.data}))},A=function(e){return h.b.post("follow/".concat(e)).then((function(e){return e.data}))},x=function(e){return h.b.delete("follow/".concat(e)).then((function(e){return e.data}))},g={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},v=function(e){return{type:"FOLLOW",userId:e}},w=function(e){return{type:"UNFOLLOW",userId:e}},m=function(e){return{type:"SET_USERS",users:e}},P=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},y=function(e){return{type:"SET_FILTER",payload:e}},C=function(e){return{type:"SET_TOTAL_USERS_COUNT",count:e}},D=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},S=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(p.a)(Object(p.a)({},e),{},{users:b(e.users,t.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(p.a)(Object(p.a)({},e),{},{users:b(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(p.a)(Object(p.a)({},e),{},{users:t.users});case"SET_CURRENT_PAGE":return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case"SET_FILTER":return Object(p.a)(Object(p.a)({},e),{},{filter:t.payload});case"SET_TOTAL_USERS_COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(p.a)(Object(p.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(p.a)(Object(p.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(d.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},E=n(37),L=function(){return h.b.get("auth/me").then((function(e){return e.data}))},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return h.b.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},T=function(){return h.b.delete("auth/login").then((function(e){return e.data}))},H=function(){return h.b.get("security/get-captcha-url").then((function(e){return e.data}))},N="SN/AUTH/SET_USER_DATA",U="SN/AUTH/GET_CAPTCHA_URL_SUCCESS",M={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},X=function(e,t,n,r){return{type:N,payload:{userId:e,email:t,login:n,isAuth:r}}},B=function(e){return{type:U,captchaUrl:e}},F=function(){return function(){var e=Object(j.a)(f.a.mark((function e(t){var n,r,a,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:(n=e.sent).resultCode===h.a.Success&&(r=n.data,a=r.id,c=r.email,s=r.login,t(X(a,c,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(){return function(){var e=Object(j.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:n=e.sent,r=n.url,t(B(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(p.a)(Object(p.a)({},e),t.payload);case U:return Object(p.a)(Object(p.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},W="SN/APP/SET-INITIALIZED-SUCCESS",V={initialized:!1},G=function(){return{type:W}},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;return t.type===W?Object(p.a)(Object(p.a)({},e),{},{initialized:!0}):e},q=n(139),Q=n(135),Y=Object(i.c)({profilePage:o.b,dialogsPage:u.b,usersPage:I,auth:k,app:K,form:Q.a}),Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,_=Object(i.e)(Y,Z(Object(i.a)(q.a))),J=n(39),$=n(40),ee=n(42),te=n(41),ne=n(20),re=n.n(ne),ae=n(15),ce=n(1),se=function(){return Object(ce.jsxs)("nav",{className:re.a.nav,children:[Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(ae.b,{to:"/profile",activeClassName:re.a.active,children:"Profile"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(ae.b,{to:"/dialogs",activeClassName:re.a.active,children:"Messages"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(ae.b,{to:"/users",activeClassName:re.a.active,children:"Users"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(ae.b,{to:"/news",activeClassName:re.a.active,children:"News"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(ae.b,{to:"/music",activeClassName:re.a.active,children:"Music"})}),Object(ce.jsx)("div",{className:re.a.item,children:Object(ce.jsx)(ae.b,{to:"/settings",activeClassName:re.a.active,children:"Settings"})})]})},ie=n(12),oe=function(){return Object(ce.jsx)("div",{children:"music"})},ue=function(){return Object(ce.jsx)("div",{children:"news"})},le=n(17),fe=n(101),je=n(79),de=n.n(je),pe=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,c=e.onPageChanged,s=e.portionSize,i=void 0===s?10:s,o=Math.ceil(t/n),u=[],l=1;l<=o;l++)u.push(l);var f=Math.ceil(o/i),j=Object(r.useState)(1),d=Object(fe.a)(j,2),p=d[0],b=d[1],h=(p-1)*i+1,O=p*i;return Object(ce.jsxs)("div",{className:de.a.paginator,children:[p>1&&Object(ce.jsx)("button",{onClick:function(){return b(p-1)},children:"PREV"}),u.filter((function(e){return e>=h&&e<=O})).map((function(e){return Object(ce.jsx)("span",{className:"".concat(de.a.page," ").concat(a===e&&de.a.selectedPage),onClick:function(){return c(e)},children:e})})),f>p&&Object(ce.jsx)("button",{onClick:function(){return b(p+1)},children:"NEXT"})]})},be=n(142),he=n.n(be),Oe=n(122),Ae=function(e){var t=e.user,n=e.followingInProgress,r=e.follow,a=e.unfollow;return Object(ce.jsxs)("div",{children:[Object(ce.jsxs)("span",{children:[Object(ce.jsx)("div",{children:Object(ce.jsx)(ae.b,{to:"/profile/".concat(t.id),children:Object(ce.jsx)("img",{src:t.photos.small?t.photos.small:Oe.a,alt:"",className:he.a.userPhoto})})}),Object(ce.jsx)("div",{children:t.followed?Object(ce.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){return a(t.id)},children:"Unfollow"}):Object(ce.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){return r(t.id)},children:"Follow"})})]}),Object(ce.jsxs)("span",{children:[Object(ce.jsxs)("span",{children:[Object(ce.jsx)("div",{children:t.name}),Object(ce.jsx)("div",{children:t.status})]}),Object(ce.jsxs)("span",{children:[Object(ce.jsx)("div",{children:"user.location.country"}),Object(ce.jsx)("div",{children:"user.location.city"})]})]})]})},xe=n(60),ge=Object(r.memo)((function(e){return Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h1",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),Object(ce.jsx)(xe.c,{initialValues:{term:"",friend:null},onSubmit:function(t,n){console.log({values:t,actions:n}),e.onFilterChanged(t)},children:Object(ce.jsxs)(xe.b,{children:[Object(ce.jsx)(xe.a,{type:"text",name:"term",placeholder:"Start typing..."}),Object(ce.jsxs)(xe.a,{name:"friend",as:"select",children:[Object(ce.jsx)("option",{value:"null",children:"All"}),Object(ce.jsx)("option",{value:"true",children:"Only followed"}),Object(ce.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(ce.jsx)("button",{type:"submit",children:"Find"})]})})]})})),ve=function(e){var t=e.totalUsersCount,n=e.pageSize,r=e.currentPage,a=e.onPageChanged,c=e.users,s=e.follow,i=e.unfollow,o=e.followingInProgress,u=e.filter,l=e.onFilterChanged;return Object(ce.jsxs)("div",{children:[Object(ce.jsx)(ge,{filter:u,onFilterChanged:l}),Object(ce.jsx)(pe,{currentPage:r,onPageChanged:a,totalItemsCount:t,pageSize:n}),c.map((function(e){return Object(ce.jsx)(Ae,{user:e,followingInProgress:o,follow:s,unfollow:i},e.id)}))]})},we=n(54),me=n(145),Pe=Object(me.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ye=function(e){return e.usersPage.pageSize},Ce=function(e){return e.usersPage.totalUsersCount},De=function(e){return e.usersPage.currentPage},Se=function(e){return e.usersPage.isFetching},Ie=function(e){return e.usersPage.followingInProgress},Ee=function(e){return e.usersPage.filter},Le=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){var e;Object(J.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize,e.props.filter)},e.onFilterChanged=function(t){e.props.getUsers(1,e.props.pageSize,t)},e}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize,this.props.filter)}},{key:"render",value:function(){var e=this.props,t=e.users,n=e.totalUsersCount,r=e.pageSize,a=e.currentPage,c=e.isFetching,s=e.followingInProgress,i=e.follow,o=e.unfollow,u=e.filter;return Object(ce.jsxs)(ce.Fragment,{children:[c?Object(ce.jsx)(we.a,{}):null,Object(ce.jsx)(ve,{totalUsersCount:n,pageSize:r,currentPage:a,users:t,onPageChanged:this.onPageChanged,isFetching:c,followingInProgress:s,follow:i,unfollow:o,filter:u,onFilterChanged:this.onFilterChanged})]})}}]),n}(r.Component),Re=Object(i.d)(Object(le.b)((function(e){return{users:Pe(e),pageSize:ye(e),totalUsersCount:Ce(e),currentPage:De(e),isFetching:Se(e),followingInProgress:Ie(e),filter:Ee(e)}}),{getUsers:function(e,t,n){return function(){var r=Object(j.a)(f.a.mark((function r(a,c){var s;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(D(!0)),a(P(e)),a(y(n)),r.next=5,O(e,t,n.term,n.friend);case 5:s=r.sent,a(D(!1)),a(m(s.items)),a(C(s.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},follow:function(e){return function(){var t=Object(j.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S(!0,e)),t.prev=1,t.next=4,A(e);case 4:t.sent.resultCode===h.a.Success&&n(v(e)),n(S(!1,e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),alert("error");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(j.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S(!0,e)),t.next=3,x(e);case 3:t.sent.resultCode===h.a.Success&&n(w(e)),n(S(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Le),Te=n(59),He=n.n(Te),Ne=function(e){var t=e.isAuth,n=e.login,r=e.logout;return Object(ce.jsxs)("header",{className:He.a.header,children:[Object(ce.jsx)("img",{src:"data:image/jpeg;base64,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",alt:"logo"}),Object(ce.jsx)("div",{className:He.a.loginBlock,children:t?Object(ce.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[n,Object(ce.jsx)("input",{type:"button",className:He.a.btn,onClick:r,value:"Log out"})]}):Object(ce.jsx)(ae.b,{to:"/login",className:He.a.btn,children:"Login"})})]})},Ue=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"render",value:function(){return Object(ce.jsx)(Ne,Object(p.a)({},this.props))}}]),n}(r.Component),Me=Object(le.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(j.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:e.sent.resultCode===h.a.Success&&t(X(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ue),Xe=n(133),Be=n(134),Fe=n(69),ze=n(73),ke=n(51),We=n.n(ke),Ve=Object(Be.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return Object(ce.jsxs)("form",{onSubmit:t,children:["    ",Object(ce.jsx)("div",{children:Object(ce.jsx)(Xe.a,{name:"email",placeholder:"Email",component:Fe.a,validate:[ze.b]})}),Object(ce.jsx)("div",{children:Object(ce.jsx)(Xe.a,{name:"password",placeholder:"Password",component:Fe.a,validate:[ze.b]})}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Xe.a,{name:"rememberMe",component:"input",type:"checkbox"})," remember me"]}),r&&Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)("img",{src:r,alt:""}),Object(ce.jsx)(Xe.a,{name:"captcha",placeholder:"input captcha...",component:Fe.a,validate:[ze.b]})]}),n&&Object(ce.jsx)("div",{className:We.a.formSummaryError,children:n}),Object(ce.jsx)("div",{children:Object(ce.jsx)("button",{children:"Login"})})]})})),Ge=Object(le.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl}}),{login:function(e,t,n,r){return function(){var a=Object(j.a)(f.a.mark((function a(c){var s,i;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(e,t,n,r);case 2:if((s=a.sent).resultCode!==h.a.Success){a.next=8;break}return a.next=6,c(F());case 6:a.next=13;break;case 8:if(s.resultCode!==h.a.CaptchaIsRequired){a.next=11;break}return a.next=11,c(z());case 11:i=s.messages.length?s.messages[0]:"Some error",c(Object(E.a)("login",{_error:i}));case 13:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuth,r=e.captchaUrl;return n?Object(ce.jsx)(ie.a,{to:"/profile"}):Object(ce.jsxs)("div",{children:[Object(ce.jsx)("h1",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(ce.jsx)(Ve,{onSubmit:function(e){t(e.email,e.password,e.rememberMe,e.captcha)},captchaUrl:r})]})})),Ke=(n(299),a.a.Suspense),qe=a.a.lazy,Qe=qe((function(){return n.e(4).then(n.bind(null,307))})),Ye=qe((function(){return n.e(3).then(n.bind(null,306))})),Ze=function(e){Object(ee.a)(n,e);var t=Object(te.a)(n);function n(){return Object(J.a)(this,n),t.apply(this,arguments)}return Object($.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(ce.jsxs)("div",{className:"app-wrapper",children:[Object(ce.jsx)(Me,{}),Object(ce.jsx)(se,{}),Object(ce.jsxs)("div",{className:"app-wrapper-content",children:[Object(ce.jsxs)(Ke,{fallback:Object(ce.jsx)(we.a,{}),children:[Object(ce.jsx)(ie.b,{path:"/profile/:userId?",render:function(){return Object(ce.jsx)(Ye,{})}}),Object(ce.jsx)(ie.b,{exact:!0,path:"/dialogs",render:function(){return Object(ce.jsx)(Qe,{})}})]}),Object(ce.jsx)(ie.b,{path:"/users",render:function(){return Object(ce.jsx)(Re,{})}}),Object(ce.jsx)(ie.b,{path:"/news",component:ue}),Object(ce.jsx)(ie.b,{path:"/music",component:oe}),Object(ce.jsx)(ie.b,{path:"/login",component:Ge})]})]}):Object(ce.jsx)(we.a,{})}}]),n}(r.Component),_e=Object(i.d)(ie.f,Object(le.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login,initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(F());Promise.all([t]).then((function(){e(G())}))}}}))(Ze);s.a.render(Object(ce.jsx)(ae.a,{children:Object(ce.jsx)(le.a,{store:_,children:Object(ce.jsx)(_e,{})})}),document.getElementById("root"))},51:function(e,t,n){e.exports={formControl:"FormsControls_formControl__E9CiO",error:"FormsControls_error__2cgCt",formSummaryError:"FormsControls_formSummaryError__gtRpS"}},54:function(e,t,n){"use strict";n(0);var r=n.p+"static/media/preloader.30e900c6.gif",a=n(1);t.a=function(){return Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:r,alt:"preloader"})})}},59:function(e,t,n){e.exports={header:"Header_header__1MZ7r",loginBlock:"Header_loginBlock__3BN1t",btn:"Header_btn__1enWH"}},69:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(3),a=(n(0),n(51)),c=n.n(a),s=n(1),i=function(e){var t=e.meta.error&&e.meta.touched;return Object(s.jsxs)("div",{className:"".concat(c.a.formControl," ").concat(t?c.a.error:""),children:[Object(s.jsx)("div",{children:e.children}),t&&Object(s.jsx)("span",{children:e.meta.error})]})},o=function(e){var t=e.input,n=(e.meta,e.restProps);return Object(s.jsx)(i,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("textarea",Object(r.a)(Object(r.a)(Object(r.a)({},t),e),n))}))},u=function(e){var t=e.input,n=(e.meta,e.restProps);return Object(s.jsx)(i,Object(r.a)(Object(r.a)({},e),{},{children:Object(s.jsx)("input",Object(r.a)(Object(r.a)(Object(r.a)({},t),e),n))}))}},73:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},79:function(e,t,n){e.exports={paginator:"Paginator_paginator__3lYu0",page:"Paginator_page__3bLuB",selectedPage:"Paginator_selectedPage__LaTfF"}},8:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r}));var r,a=n(137),c=n.n(a).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0/",withCredentials:!0,headers:{"API-KEY":"97f1d028-7518-43ef-85bd-dd2bcb1ec8e1"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(r||(r={}))}},[[300,1,2]]]);
//# sourceMappingURL=main.4ed7c81b.chunk.js.map