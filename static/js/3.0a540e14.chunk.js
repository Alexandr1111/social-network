(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{291:function(t,e,s){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__2gyzB",mainPhoto:"ProfileInfo_mainPhoto__1nLwb"}},292:function(t,e,s){t.exports={postsBlock:"MyPosts_postsBlock__2BACy",posts:"MyPosts_posts__2x3M3"}},293:function(t,e,s){t.exports={item:"Post_item__1nQ7J"}},294:function(t,e,s){"use strict";s.r(e);var a=s(5),n=s(34),o=s(35),i=s(37),c=s(36),r=s(0),u=s(14),j=s(291),l=s.n(j),p=s(113),d=s(126),b=s(1),h=function(t){var e=Object(r.useState)(!1),s=Object(d.a)(e,2),a=s[0],n=s[1],o=Object(r.useState)(t.status),i=Object(d.a)(o,2),c=i[0],u=i[1];Object(r.useEffect)((function(){u(t.status)}),[t.status]);return Object(b.jsx)("div",{children:a?Object(b.jsx)("div",{children:Object(b.jsx)("input",{value:c,onChange:function(t){u(t.target.value)},onBlur:function(){n(!1),t.updateStatus(c)},autoFocus:!0})}):Object(b.jsx)("div",{children:Object(b.jsx)("span",{onDoubleClick:function(){n(!0)},children:c||"-----"})})})},f=function(t){var e=t.profile,s=t.status,a=t.updateStatus,n=t.isOwner,o=t.savePhoto;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:"https://www.talkwalker.com/images/2020/blog-headers/image-analysis.png",alt:""})}),Object(b.jsxs)("div",{className:l.a.descriptionBlock,children:[Object(b.jsx)("img",{src:e.photos.large||p.a,alt:"",className:l.a.mainPhoto}),n&&Object(b.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&o(t.target.files[0])}}),Object(b.jsx)("div",{children:e.fullName}),Object(b.jsx)(h,{status:s,updateStatus:a})]})]})},O=s(292),m=s.n(O),x=s(293),v=s.n(x),P=function(t){var e=t.message,s=t.likeCount;return Object(b.jsxs)("div",{className:v.a.item,children:[Object(b.jsx)("img",{src:"https://i.pinimg.com/236x/c2/af/09/c2af0941a9eace5f0ba3dc63284d3860--mr-bean-funny-color-blue.jpg",alt:""}),e,Object(b.jsx)("div",{children:Object(b.jsxs)("span",{children:[s,"\u2665"]})})]})},g=s(124),k=s(125),w=s(85),S=s(84),_=Object(w.a)(10),y=function(t){return Object(b.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(b.jsx)("div",{children:Object(b.jsx)(g.a,{name:"newPostText",component:S.b,validate:[w.b,_]})}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{type:"submit",children:"Add post"})})]})};y=Object(k.a)({form:"addPost"})(y);var B=function(t){var e=t.posts,s=t.addPost;return Object(b.jsxs)("div",{className:m.a.postsBlock,children:[Object(b.jsx)("h3",{children:"My posts"}),Object(b.jsx)("div",{children:Object(b.jsx)(y,{onSubmit:function(t){s(t.newPostText)}})}),Object(b.jsx)("div",{className:m.a.posts,children:e.map((function(t){return Object(b.jsx)(P,{message:t.message,likeCount:t.likeCount})}))})]})},I=s(92),C=Object(u.b)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(e){t(Object(I.a)(e))}}}))(B),N=s(48),M=function(t){var e=t.profile,s=t.status,a=t.updateStatus,n=t.isOwner,o=t.savePhoto;return e?Object(b.jsxs)("div",{children:[Object(b.jsx)(f,{profile:e,isOwner:n,status:s,updateStatus:a,savePhoto:o}),Object(b.jsx)(C,{})]}):Object(b.jsx)(N.a,{})},U=s(11),A=s(9),T=function(t){Object(i.a)(s,t);var e=Object(c.a)(s);function s(){return Object(n.a)(this,s),e.apply(this,arguments)}return Object(o.a)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.match.params.userId!=t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var t=this.props,e=t.profile,s=t.status,n=t.updateStatus,o=t.savePhoto;return Object(b.jsx)(M,Object(a.a)({profile:e,status:s,updateStatus:n,isOwner:!this.props.match.params.userId,savePhoto:o},this.props))}}]),s}(r.Component);e.default=Object(A.d)(Object(u.b)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:I.d,getStatus:I.c,updateStatus:I.f,savePhoto:I.e}),U.f)(T)}}]);
//# sourceMappingURL=3.0a540e14.chunk.js.map